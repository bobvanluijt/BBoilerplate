/*
 *
 *	CoolText
 *
 *	Copyright (c) 2014 Thomas Dolso
 *	http://www.cooltextjs.com
 *
 *	Licensed under http://codecanyon.net/licenses/regular
 *
 */
function htmlCoolText(){$.each($("body").find("[ct-sequence], [ct-mouseover], [ct-mouseout], [ct-click]"),function(){var t=$(this).attr("ct-sequence"),e=$(this).attr("ct-mouseover"),n=$(this).attr("ct-mouseout"),i=$(this).attr("ct-click"),o=$(this).attr("ct-config"),a=[];if("undefined"!=typeof t){t=t.replace(/\s+/g,"").split("|");for(var r=0;r<t.length;r++){var s=t[r].replace(/\s+/g,"").split(",");a[r]={action:"animation",stop:!1,animation:s[0],elements:s[1],speed:s[2],stagger:s[3],delay:s[4],order:s[5],css:{color:s[6]}}}}if("undefined"!=typeof e){e=e.replace(/\s+/g,"").split(",");var c={action:"animation",animation:e[0],elements:e[1],speed:e[2],stagger:e[3],delay:e[4],order:e[5],overwrite:e[6],css:{color:e[7]}}}if("undefined"!=typeof n){n=n.replace(/\s+/g,"").split(",");var l={action:"animation",animation:n[0],elements:n[1],speed:n[2],stagger:n[3],delay:n[4],order:n[5],overwrite:n[6],css:{color:n[7]}}}if("undefined"!=typeof i){i=i.replace(/\s+/g,"").split(",");var m={action:"animation",animation:i[0],elements:i[1],speed:i[2],stagger:i[3],delay:i[4],order:i[5],overwrite:i[6],css:{color:i[7]}}}if("undefined"!=typeof o)var u=o.indexOf("cycle")>=0,_=o.indexOf("pause-on-mouseover")>=0,p=o.indexOf("resume-on-mouseout")>=0,d=o.indexOf("wait-for-load")>=0;$(this).cooltext({pauseOnMouseOver:_,resumeOnMouseOut:p,cycle:u,waitForLoad:d,onMouseOver:c,onMouseOut:l,onClick:m,sequence:a})})}!function(t,e,n,i){"use strict";function o(n,o){if(this.name=a,this.defaults=r,this.options=t.extend({},r,o),this.options.sequence===i&&(this.options.sequence=[]),this.num_actions=this.options.sequence.length,this.current_action=0,this.element=n,this.j_element=t(n),this.timeline=new TimelineMax,this.num_letters=0,this.num_words=0,t.extend(this.options.animations,cool_animations),this.options.waitForLoad){var s=this;t(e).load(function(){s._init()})}else this._init()}var a="cooltext",r={cycle:!1,pauseOnMouseOver:!1,resumeOnMouseOut:!1,waitForLoad:!1,animations:[],onComplete:i,onMouseOver:i,onMouseOut:i,onClick:i},s=function(e){var n=e.data.plugin;if(("undefined"==typeof n.options.onMouseOver.overwrite||!n.options.onMouseOver.overwrite)&&(n.animating||n.animating_over||n.animating_out||n.animating_click))return!1;n.animating_over=!0;var i=t.extend(!0,{},n.options.onMouseOver);t.isArray(i.animation)?n._getRandomAnimation(i):n._getAnimation(i),n._getAnimationInfo(i),n.pause(),n._startAnimation(i,!0)},c=function(e){var n=e.data.plugin;if(("undefined"==typeof n.options.onMouseOut.overwrite||!n.options.onMouseOut.overwrite)&&(n.animating||n.animating_over||n.animating_out||n.animating_click))return!1;n.animating_out=!0;var i=t.extend(!0,{},n.options.onMouseOut);t.isArray(i.animation)?n._getRandomAnimation(i):n._getAnimation(i),n._getAnimationInfo(i),n.pause(),n._startAnimation(i,!0)},l=function(e){var n=e.data.plugin;if(("undefined"==typeof n.options.onClick.overwrite||!n.options.onClick.overwrite)&&(n.animating||n.animating_over||n.animating_out||n.animating_click))return!1;n.animating_click=!0;var i=t.extend(!0,{},n.options.onClick);t.isArray(i.animation)?n._getRandomAnimation(i):n._getAnimation(i),n._getAnimationInfo(i),n.pause(),n._startAnimation(i,!0)};o.prototype={_init:function(){var t=this;t.options.pauseOnMouseOver&&t.j_element.on("mouseenter",{plugin:this},function(){t.pause()}),t.options.resumeOnMouseOut&&t.j_element.on("mouseleave",{plugin:this},function(){t.play()}),t.options.onMouseOver&&t.j_element.on("mouseenter",{plugin:this},s),t.options.onMouseOut&&t.j_element.on("mouseleave",{plugin:this},c),t.options.onClick&&t.j_element.on("click",{plugin:this},l),t._getAnimations(),t._createLetters(),t._doAction()},_getAnimation:function(e){if("undefined"!=typeof e){var n=this;if(t.isArray(e.animation))e.action="do_animate";else if("animation"==e.action&&""!=e.animation){for(var i=!1,o=0;o<n.options.animations.length;o++)e.animation==n.options.animations[o].name&&(i=!0,e.action="do_animate",e.steps=jQuery.extend(!0,[],n.options.animations[o].steps));i||(console.log("COOLTEXT WARNING: animation "+e.animation+" not found"),n.options.sequence.splice(o,1),n.num_actions--)}}},_getAnimations:function(){for(var t=this,e=0;e<t.options.sequence.length;e++){var n=t.options.sequence[e];t._getAnimation(n)}},_getRandomAnimation:function(e){var n=this;if(t.isArray(e.animation)){var i=Math.floor(e.animation.length*Math.random());e.name=e.animation[i];for(var o=!1,a=0;a<n.options.animations.length;a++)e.name==n.options.animations[a].name&&(o=!0,e.steps=jQuery.extend(!0,[],n.options.animations[a].steps));o||(console.log("COOLTEXT WARNING: animation "+e.name+" not found"),n.options.sequence.splice(a,1),n.num_actions--)}},_createLetters:function(){var e=this;e.j_element.html(e.j_element.html().replace(/\n/g,"").replace("	","").replace(/\s{2,}/g," ")),e.current_text=e.j_element.html(),e.j_element.html(t.trim(e.j_element.html()));var n=e.j_element.clone();e.j_element.html(""),n.find("br").replaceWith("\n");var o,a=n.text().split(""),r=t("<div/>",{css:{position:"relative",display:"inline-block"}}).addClass("ct-word").appendTo(e.j_element);t.each(a,function(n,i){"\n"===i&&(t("<br/>",{css:{position:"relative",display:"inline-block"}}).addClass("ct-br").appendTo(e.j_element),r=t("<div/>",{css:{position:"relative",display:"inline-block"}}).addClass("ct-word").appendTo(e.j_element))," "==i||"&nbsp;"==i?(e.j_element.append(" "),r=t("<div/>",{css:{position:"relative",display:"inline-block"}}).addClass("ct-word").appendTo(e.j_element)):o=t("<div/>",{css:{position:"relative",display:"inline-block"}}).addClass("ct-letter").html(i).appendTo(r)}),e._finds(),e.words_positions=Array(),t.each(e.words,function(n){var i=t(this).position();e.words_positions[n]=i}),e.letters_positions=Array(),t.each(e.letters,function(n){var i=t(this).position();e.letters_positions[n]=i}),TweenMax.set(e.j_element,{z:.1}),(typeof e.options.sequence===i||0==e.options.sequence.length)&&e.j_element.css("visibility","visible"),e._createResetValues()},_finds:function(){var t=this;t.letters=t.j_element.find(".ct-letter"),t.words=t.j_element.find(".ct-word"),t.num_letters=t.letters.length,t.num_words=t.words.length},_resetLetters:function(){var e=this;t.each(e.letters,function(t){TweenMax.to(this,0,e.letters_reset[t])})},_resetWords:function(){var e=this;t.each(e.words,function(t){TweenMax.to(this,0,e.words_reset[t])})},_createResetValues:function(){var e=this;e.words_reset=Array(),t.each(e.words,function(t){e.words_reset[t]={transformOrigin:"50% 50% 0",transform:"none",rotationY:0,rotationX:0,rotation:0,scale:1,opacity:1,immediateRender:!0}}),e.letters_reset=Array(),t.each(e.letters,function(t){e.letters_reset[t]={transformOrigin:"50% 50% 0",transform:"none",rotationY:0,rotationX:0,rotation:0,scale:1,opacity:1,immediateRender:!0}})},_nextAction:function(){var t=this;if(t.current_action++,t.current_action>=t.num_actions){if(t.options.onComplete!==i&&t.options.onComplete(),!t.options.cycle)return!1;t.current_action=0}return t._doAction(),!0},_prevAction:function(){var t=this;return t.current_action--,t.current_action<0?!1:(t._doAction(),!0)},_getAnimationInfo:function(t){var e=this;e.current_animation={},"words"==t.elements?(e.current_animation.num_elements=e.num_words,e.current_animation.jelements=".ct-word",e.current_animation.stagger_multiplier=7):(e.current_animation.num_elements=e.num_letters,e.current_animation.jelements=".ct-letter",e.current_animation.stagger_multiplier=1);for(var n=1;n<t.steps.length;n++){var o=t.steps[n];t.speed!=i&&(o.time*=100/t.speed),t.stagger!=i&&(o.stagger*=100/t.stagger),o.stagger*=e.current_animation.stagger_multiplier}for(var n=1;n<t.steps.length;n++){var a=t.steps[n];a.total_time=(e.current_animation.num_elements-1)*parseFloat(a.stagger)+parseFloat(a.time)}var r=0;t.steps[1].delay=0;for(var n=2;n<t.steps.length;n++)r+=t.steps[n-1].total_time*t.steps[n].start_at,t.steps[n].delay=r;e.current_animation.total_time=0;for(var n=1;n<t.steps.length;n++)t.steps[n].total_time+t.steps[n].delay>e.current_animation.total_time&&(e.current_animation.total_time=t.steps[n].total_time+t.steps[n].delay);e.current_animation.one_element_total_time=0;for(var n=1;n<t.steps.length;n++)t.steps[n].time+t.steps[n].delay>e.current_animation.one_element_total_time&&(e.current_animation.one_element_total_time=t.steps[n].time+t.steps[n].delay)},_doAction:function(){var e=this;if(0==e.options.sequence.length)return!1;var n=t.extend(!0,{},e.options.sequence[e.current_action]);switch(n.action){case"do_animate":t.isArray(n.animation)&&e._getRandomAnimation(n),e._getAnimationInfo(n),e._startAnimation(n);break;case"update":e.j_element.css("visibility","hidden"),n.text!==i?e.j_element.html(n.text):e.j_element.html(e.current_text),n.addClass!==i&&e.j_element.addClass(n.addClass),n.removeClass!==i&&e.j_element.removeClass(n.removeClass),typeof n.css!==i&&TweenMax.set(e.j_element,{css:n.css}),e._createLetters(),e._nextAction()}},_resetElements:function(){var t=this;".ct-letter"==t.current_animation.jelements?t._resetWords():".ct-word"==t.current_animation.jelements&&t._resetLetters()},_startAnimation:function(e,n){var o=this;o.animating=!0,n===i&&(n=!1);var a=e.steps[0];e.onStart!==i&&(e.delay!==i?TweenMax.delayedCall(e.delay,function(){e.onStart()}):e.onStart()),TweenLite.set(o.words,{perspective:a.p}),o.timeline.clear(),o.timeline=new TimelineMax,o.timeline.pause(),o.timeline.eventCallback("onComplete",function(){o._resetElements(),o._doSteps(e,n)}),"visible"!=t(o.j_element).css("visibility")&&TweenMax.to(o.j_element,0,{delay:e.delay===i?0:e.delay,visibility:"visible"});var r=Array();t.each(o.j_element.find(o.current_animation.jelements),function(){if("value"==a.xt)var t=a.x;else if("random"==a.xt)var t=Math.floor(a.x1+(a.x2-a.x1)*Math.random());if("value"==a.yt)var n=a.y;else if("random"==a.yt)var n=Math.floor(a.y1+(a.y2-a.y1)*Math.random());var o=a.o;e.startingOpacity!==i&&(o=e.startingOpacity),r.push(TweenMax.to(this,0,{opacity:o,transformOrigin:a.tox+"% "+a.toy+"% "+a.toz+"px",x:t,y:n,z:.1,rotationX:a.rx,rotationY:a.ry,rotationZ:a.rz,scaleX:a.sx,scaleY:a.sy,delay:e.delay===i?0:e.delay}))}),o.timeline.add(r),o.timeline.play()},_doSteps:function(e,n){var o=this;o.timeline.clear(),o.timeline=new TimelineMax,o.timeline.pause(),o.timeline.eventCallback("onComplete",function(){o.animating=!1,o.animating_over=!1,o.animating_out=!1,o.animating_click=!1,e.onComplete!==i&&e.onComplete(),n||e.stop||o._nextAction()});var a=o.j_element.find(o.current_animation.jelements),r=Array();if("reverse"==e.order)for(var s=0;s<o.current_animation.num_elements;s++)r[s]=o.current_animation.num_elements-s-1;else if("random"==e.order){for(var s=0;s<o.current_animation.num_elements;s++)r[s]=s;for(var s=0;s<o.current_animation.num_elements;s++){var c=Math.floor(Math.random()*o.current_animation.num_elements),l=r[s];r[s]=r[c],r[c]=l}}else for(var s=0;s<o.current_animation.num_elements;s++)r[s]=s;for(var m=1;m<e.steps.length;m++){var u=e.steps[m],_=e.steps[m-1];TweenLite.set(o.words,{perspective:u.p});var p={};u.o!=_.o&&(p.opacity=u.o),(u.tox!=_.tox||u.toy!=_.toy||u.toz!=_.toz)&&(p.transformOrigin=u.tox+"% "+u.toy+"% "+u.toz+"px"),u.rx!=_.rx&&(p.rotationX=u.rx),u.ry!=_.ry&&(p.rotationY=u.ry),u.rz!=_.rz&&(p.rotationZ=u.rz),u.sx!=_.sx&&(p.scaleX=u.sx),u.sy!=_.sy&&(p.scaleY=u.sy),p.z=.1,p.ease=u.e;for(var s=0;s<o.current_animation.num_elements;s++){if("random"==u.xt)var c=Math.floor(u.x1+(u.x2-u.x1)*Math.random());else if(u.xt!=_.type||u.x!=_.x)var c=u.x;if("random"==u.yt)var d=Math.floor(u.y1+(u.y2-u.y1)*Math.random());else if(u.yt!=_.type||u.y!=_.y)var d=u.y;o.timeline.add(TweenMax.to(a[r[s]],u.time,t.extend({},p,{x:c,y:d})),u.delay+s*u.stagger),typeof e.css!==i&&o.timeline.add(TweenMax.to(a[r[s]],o.current_animation.one_element_total_time,{css:e.css}),0+s*u.stagger)}}o.timeline.play()},_doBefore:function(e){var n=this,o=t.extend(!0,{},e.before);o.onComplete=function(){e.before=i,n.goto(e)},n._getAnimation(o),n._getAnimationInfo(o),n._startAnimation(o,!0)},restart:function(){var t=this;t.current_action=0,t._doAction()},pause:function(){var t=this;t.timeline.pause()},play:function(){var t=this;t.timeline.play()},"goto":function(t){var e=this,n=e.current_action;if(t.before!==i)return e._doBefore(t),void 0;switch(t.where){case"next":e.current_action>=e.num_actions-1?e.options.cycle&&(e.current_action=-1,e._nextAction()):e._nextAction();break;case"prev":e.current_action<=0?e.options.cycle&&(e.current_action=e.num_actions,e._prevAction()):e._prevAction();break;case"next_update":do if(e.current_action++,e.current_action>=e.num_actions&&(e.current_action=0),"update"==e.options.sequence[e.current_action].action)return t.stagger!==i&&(e.current_action+=parseInt(t.stagger),e.current_action>=e.num_actions?e.current_action=0:e.current_action<0&&(e.current_action=e.num_actions-1)),e._doAction(),e.current_action;while(e.current_action!=n);return!1;case"prev_update":var o=!1;do if(e.current_action--,e.current_action<0&&(e.current_action=e.num_actions-1),"update"==e.options.sequence[e.current_action].action){if(o)return t.stagger!==i&&(e.current_action+=parseInt(t.stagger),e.current_action>=e.num_actions?e.current_action=0:e.current_action<0&&(e.current_action=e.num_actions-1)),e._doAction(),e.current_action;o=!0}while(e.current_action!=n);return!1}}},t.fn[a]=function(e){var n=arguments;return e===i||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new o(this,e))}):"string"==typeof e&&"_"!==e[0]?this.each(function(){var i=t.data(this,"plugin_"+a);i instanceof o&&"function"==typeof i[e]&&i[e].apply(i,Array.prototype.slice.call(n,1))}):void 0}}(jQuery,window,document),"undefined"==typeof tmAutoStart&&$(document).ready(function(){htmlCoolText()});